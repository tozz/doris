!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=void 0;if(e instanceof Node)t=[e];else if("object"===(void 0===e?"undefined":i(e))&&e.elements)t=e.elements;else if(e===document||e===document.documentElement)t=[document.documentElement];else if(e===window)t=[window];else if("string"==typeof e)try{t=document.querySelectorAll(e)}catch(n){if(!(n instanceof DOMException))throw new Error("Invalid Doris argument!");t=a.default.stringToDOM(e)}return new s.default(t)}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=o;var s=r(e("./object")),a=r(e("./utils"));if("undefined"==typeof window)throw new Error("Doris is meant to be run in a browser!");window.doris=o},{"./object":4,"./utils":5}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.preventedDefault=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.originalEvent=t,this.target=t.target,this.type=t.type}return o(e,[{key:"preventDefault",value:function(){this.originalEvent.preventDefault(),this.preventedDefault=!0}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation(),this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation(),this.immediatePropagationStopped=!0}}]),e}();n.default=i},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={classListAddMultiple:function(){var e=document.createElement("p");return e.classList.add("x1","x2"),e.classList.contains("x2")}()}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(e("./event")),u=r(e("./features")),c=r(e("./utils")),f={},d=0,v=function(){function e(t){var n=this;o(this,e),this.elements=Array.from(t),this.doris=!0,Object.keys(this.elements).forEach(function(e){void 0===n.elements[e].dorisId&&(d+=1,n.elements[e].dorisId=d),n[e]=n.elements[e]}),this.length=this.elements.length}return a(e,[{key:"get",value:function(e){return this.elements[e]}},{key:"each",value:function(t){var n=this;return Object.keys(this.elements).forEach(function(r){t.apply(new e([n.elements[r]]),[n.elements[r],parseInt(r,10)])}),this}},{key:"matches",value:function(t){return e.matchSelector(this.elements[0],t)}},{key:"parent",value:function(t){var n=[];return Object.values(this.elements).forEach(function(r){if(t){for(var o=r.parentNode,i=!1;"HTML"!==o.tagName&&void 0!==o.tagName&&!(i=e.matchSelector(o,t));)o=o.parentNode;i&&n.indexOf(o)<0&&n.push(o)}else"HTML"!==r.parentNode.tagName&&n.indexOf(r.parentNode)<0&&n.push(r.parentNode)}),new e(n)}},{key:"find",value:function(t){var n=[];return t&&Object.values(this.elements).forEach(function(e){if(e.querySelectorAll){var r=Array.from(e.querySelectorAll(t));Object.keys(r).forEach(function(e){-1===n.indexOf(r[e])&&n.push(r[e])})}}),new e(n)}},{key:"prepend",value:function(e){return Object.values(this.elements).forEach(function(t){var n="string"==typeof e?c.default.stringToDOM(e):[e];Object.values(n.reverse()).forEach(function(e){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)})}),this}},{key:"append",value:function(e){return Object.values(this.elements).forEach(function(t){var n=void 0;n="string"==typeof e?c.default.stringToDOM(e):!0===e.doris?e.elements:[e],Object.values(n).forEach(function(e){t.appendChild(e)})}),this}},{key:"before",value:function(e){return Object.values(this.elements).forEach(function(t){var n="string"==typeof e?c.default.stringToDOM(e):[e];Object.values(n).forEach(function(e){t.parentNode.insertBefore(e,t)})}),this}},{key:"after",value:function(e){return Object.values(this.elements).forEach(function(t){var n="string"==typeof e?c.default.stringToDOM(e):[e];Object.values(n.reverse()).forEach(function(e){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)})}),this}},{key:"remove",value:function(){var e=this;return Object.keys(this.elements).forEach(function(t){e.elements[t].parentNode.removeChild(e.elements[t]),delete e.elements[t],delete e[t]}),this.length=this.elements.length,this}},{key:"replace",value:function(t){var n=this,r=t;"string"==typeof r&&(r=window.doris(r));var o=[],i=this.elements.length>1;return Object.keys(this.elements).forEach(function(t){if(1===r.elements.length){var s=i?r.elements[0].cloneNode(!0):r.elements[0];n.elements[t].parentNode.replaceChild(s,n.elements[t]),o.push(s)}else{var a=new e([n.get(t)]);r.each(function(e){var t=i?e.cloneNode(!0):e;o.push(t),a.after(t),a=window.doris(t)}),new e([n.get(t)]).remove()}}),new e(o)}},{key:"clone",value:function(t){var n=[];return Object.values(this.elements).forEach(function(e){n.push(e.cloneNode(t))}),Object.keys(n).forEach(function(e){d+=1,n[e].dorisId=d}),new e(n)}},{key:"html",value:function(e){var t=this;if(void 0===e||null===e)return this.elements[0].innerHTML;var n=e;return"string"!=typeof n&&(n=doris(n).toHTML()),Object.keys(this.elements).forEach(function(e){t.elements[e].innerHTML=n}),this}},{key:"text",value:function(e){var t=this;if(void 0===e){var n="";return Object.values(this.elements).forEach(function(e){n+=e.textContent}),n}return Object.keys(this.elements).forEach(function(n){t.elements[n].textContent=e}),this}},{key:"addClass",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Object.keys(this.elements).forEach(function(t){if(u.default.classListAddMultiple){var r;(r=e.elements[t].classList).add.apply(r,n)}else Object.values(n).forEach(function(r){e.elements[t].classList.add(n[r])})}),this}},{key:"removeClass",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.values(this.elements).forEach(function(e){if(u.default.classListAddMultiple){var n;(n=e.classList).remove.apply(n,t)}else Object.values(t).forEach(function(n){e.classList.remove(t[n])})}),this}},{key:"hasClass",value:function(e){return!!this.elements[0]&&this.elements[0].classList.contains(e)}},{key:"toggleClass",value:function(e){return Object.values(this.elements).forEach(function(t){t.classList.toggle(e)}),this}},{key:"attribute",value:function(e,t){return void 0===t?this.elements[0].getAttribute(e):!1===t?(Object.values(this.elements).forEach(function(t){t.removeAttribute(e)}),this):(Object.values(this.elements).forEach(function(n){n.setAttribute(e,t)}),this)}},{key:"removeAttribute",value:function(e){return Object.values(this.elements).forEach(function(t){t.removeAttribute(e)}),this}},{key:"css",value:function(e,t){var n=this;return void 0!==t&&null!==t||"object"===(void 0===e?"undefined":s(e))?(Object.keys(this.elements).forEach(function(r){"string"==typeof e?n.elements[r].style[e]=t:Object.keys(e).forEach(function(t){n.elements[r].style[t]=e[t]})}),this):getComputedStyle(this.elements[0]).getPropertyValue(e)}},{key:"width",value:function(){return this.elements[0]===window?window.innerWidth:this.elements[0].getBoundingClientRect().width}},{key:"height",value:function(){return this.elements[0]===window?window.innerHeight:this.elements[0].getBoundingClientRect().height}},{key:"size",value:function(){return this.elements[0].getBoundingClientRect()}},{key:"offset",value:function(){if(this.elements[0]===window)return{left:0,top:0};for(var e=this.elements[0],t=0,n=0;null!==e&&"BODY"!==e.tagName;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:t,top:n}}},{key:"data",value:function(e,t){var n=this,r=e.replace("data-","").replace(/-([a-z])/g,function(e,t){return t?t.toUpperCase():e});return t?(Object.keys(this.elements).forEach(function(e){n.elements[e].dataset[r]=t}),this):this.elements[0].dataset[r]}},{key:"on",value:function(t){for(var n=this,r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var a=e.parseEventArguments([t].concat(o)),u=i(a,4),c=u[0],d=u[1],v=u[2],h=u[3],m=void 0!==h&&h,p=function(t,r){var o=new l.default(r);if(f[t].events[o.type]){!function r(i){o.propagationStopped||(Object.keys(f[t].events[o.type]).forEach(function(r){if(!o.immediatePropagationStopped){var s=f[t].events[o.type][r];("*"===s.selector&&i.dorisId===t||"*"!==s.selector&&e.matchSelector(i,s.selector))&&(s.callback.call(new e([i]),o,i),s.callback.one&&n.off(o.type,s.callback.selector,s.callback.one,t))}}),i.dorisId!==t&&null!==i.parentNode&&r(i.parentNode))}(o.target)}};return Object.values(this.elements).forEach(function(e){var t=e.dorisId;f[t]||(f[t]={events:{},call:p.bind(n,t),counts:{}}),f[t].events[c]||(f[t].events[c]=[],f[t].counts[c]=0),f[t].events[c].push({selector:d,callback:v}),f[t].counts[c]+=1,e.addEventListener(c,f[t].call,m)}),this}},{key:"once",value:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s=e.parseEventArguments([t].concat(r)),a=i(s,5),l=a[0],u=a[1],c=a[2],f=a[4],d=void 0===f?{}:f,v=function(e){c.call(this,e)};return v.one=c,v.selector=u,this.on(l,u,v,d),this}},{key:"off",value:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s=e.parseEventArguments([t].concat(r)),a=i(s,5),l=a[0],u=a[1],c=a[2],d=a[4];return Object.values(this.elements).forEach(function(e){var t=e.dorisId;if((void 0===d||t===d)&&f[t].events[l]){var n=f[t].counts[l];Object.keys(f[t].events[l]).forEach(function(e){var r=f[t].events[l][e],o=r.selector===u||"*"===u,i=!1;c?r.callback.one&&r.callback.one===c?i=!0:c===r.callback&&(i=!0):i=!0,o&&i&&(delete f[t].events[l][e],f[t].counts[l]-=1,n-=1)}),0===n&&e.removeEventListener(l,f[t].call,!1)}}),this}},{key:"trigger",value:function(e){var t=void 0;return"click"===e?(t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):(t=document.createEvent("Event")).initEvent(e,!0,!0),Object.values(this.elements).forEach(function(e){return e.dispatchEvent(t)}),this}},{key:"toHTML",value:function(){var e=document.createDocumentFragment();return e.appendChild(document.createElement("body")),Object.values(this.elements).forEach(function(t){e.childNodes[0].appendChild(t)}),e.childNodes[0].innerHTML}}],[{key:"matchSelector",value:function(e,t){if(e===document)return!1;var n=Element.prototype.matches||Element.prototype.msMatchesSelector;return!!n&&n.call(e,t)}},{key:"parseEventArguments",value:function(e){var t=void 0,n=void 0,r="*",o=void 0,a=void 0;if("function"==typeof e[1]){var l=i(e,3);t=l[0],n=l[1],a=l[2]}else if("string"!=typeof e[1]||e[2])if(e[3]||"function"==typeof e[2]){var u=i(e,3);if(t=u[0],r=u[1],n=u[2],null!==e[3]&&"object"===s(e[3])){var c=i(e,5);t=c[0],r=c[1],n=c[2],a=c[3],o=c[4]}else if("number"==typeof e[3]){var f=i(e,4);t=f[0],r=f[1],n=f[2],o=f[3]}}else t=i(e,1)[0];else{var d=i(e,2);t=d[0],r=d[1]}return r=r||"*",[t,r,n,a,o]}}]),e}();n.default=v},{"./event":2,"./features":3,"./utils":5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={stringToDOM:function(e){var t=document.createDocumentFragment();return t.appendChild(document.createElement("body")),t.childNodes[0].innerHTML=e,Array.from(t.childNodes[0].childNodes)}}},{}]},{},[1]);
